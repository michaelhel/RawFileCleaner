<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>RawFileCleaner</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <script src="script.js"></script>
</head>

<body onload="setProgress(0.33)">
    <div id="container">
        <div id="info">
            <a href="information.html">
                <img id="imgInfo" src="img/info.svg" />
            </a>
        </div>
        <div id="content">
            <a>
                <h2 id="dropYourDirectoryHere">Drop your directory here</h2>
            </a>
        </div>
    </div>
    <script type="text/javascript">
        var remote = require('electron').remote;
        document.addEventListener('keydown', function(e) {
            if (e.which === 123) {
                remote.getCurrentWindow().webContents.openDevTools();
            } else if (e.which === 116) {
                location.reload();
            }
        });

        const storage = require('electron-json-storage');

        document.ondragover = document.ondrop = (ev) => {
            ev.preventDefault();
        }

        document.ondrop = (ev) => {
            storage.set('path', ev.dataTransfer.files[0].path, (err) => {
                if (err) {
                    console.log(err);
                }
            });
            window.location = "options.html";
            ev.preventDefault();
        }
    </script>
</body>

</html>